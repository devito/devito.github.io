<demo-tag>
    <template shadowrootmode="open">
        <p>This is the shadow dom</p>
        <slot></slot>
    </template>
    <p>This is light dom</p>
</demo-tag>
<script type="module">
    class DemoTag extends HTMLElement {
        constructor() {
            super();
      
            const supportsDeclarative = HTMLElement.prototype.hasOwnProperty("attachInternals");
            const internals = supportsDeclarative ? this.attachInternals() : undefined;
            
            // check for a Declarative Shadow Root.
            let shadow = internals?.shadowRoot;

            const toggle = () => {
                console.log("I'm clicked!");
            };

            shadow.firstElementChild.addEventListener("click", toggle);
        }
    }
      
    customElements.define("demo-tag", DemoTag);
</script>
<demo-tag>
    <p>I am made after being a custom element</p>
</demo-tag>